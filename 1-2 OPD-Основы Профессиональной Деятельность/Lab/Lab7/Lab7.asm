ORG 0x0095
RESULT: WORD    0

CHECK1: WORD    0
CHECK2: WORD    0
CHECK3: WORD    0

ARG1:   WORD    0x0015
ARG2:   WORD    0x72AA
EXPE_ANS1:  WORD    0x72BF

ARG3:   WORD    0xFFFF
ARG4:   WORD    0x0001
EXPE_ANS2:  WORD    0x0000

ARG5:   WORD    0xFFFF
ARG6:   WORD    0xFFFE
EXPE_ANS3:  WORD    0xFFFD


ORG 0x00A5

START:
CALL    TEST1
CALL    TEST2
CALL    TEST3
LD      #0x1
AND     CHECK1
AND     CHECK2
AND     CHECK3
ST      RESULT
HLT

TEST1:
LD      ARG1
PUSH
LD      ARG2
PUSH
WORD    0x0F10
POP
CMP     EXPE_ANS1
BNE     ERROR
BEQ     DONE1
DONE1:
POP
POP
LD  #0x1
ST  CHECK1
CLA
RET

TEST2:
LD      ARG3
PUSH
LD      ARG4
PUSH
WORD    0x0F10
POP
CMP     EXPE_ANS2
BNE     ERROR
BEQ     DONE2
DONE2:
POP
POP
LD  #0x1
ST  CHECK2
CLA
RET

TEST3:
LD      ARG5
PUSH
LD      ARG6
PUSH
WORD    0x0F10
POP
CMP     EXPE_ANS3
BNE     ERROR
BEQ     DONE3
DONE3:
POP
POP
LD  #0x1
ST  CHECK3
CLA
RET

ERROR:
POP
POP
CLA
RET 

END