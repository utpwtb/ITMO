### 翻译：

#### 信息逻辑模型（Инфологическая модель）：
- 是对领域的**通用表示**；
- 基于对用户视图的分析构建；
- 不依赖于“物理”存储；
- 有标准的描述工具（例如，ER图）。

#### 考虑以下因素的信息逻辑模型表示：
- 所使用的数据模型；
- 可能会包含与数据库管理系统（СУБД）相关的细节（例如，数据类型）。

#### 数据逻辑模型（Даталогическая модель）：
- 是在特定数据库管理系统（DBMS）中实现的具体数据结构和存储方式；
- 直接与数据库的物理存储相关；
- 包含具体的表、字段、数据类型、索引、约束等详细信息。

---

### 区别讲解：

1. **信息逻辑模型（Инфологическая модель）**  
   - **定义**：信息逻辑模型是对现实世界领域的一种高层次抽象，专注于描述业务需求和核心概念。它不涉及任何具体的实现技术或数据库系统。
   - **特点**：
     - 它是基于用户需求和业务规则构建的，独立于具体的物理存储。
     - 使用标准化的工具（如ER图）来描述实体、属性和关系。
     - 不关心数据如何存储或管理，只关注“**数据是什么**”。
   - **用途**：用于与业务分析师、用户沟通，确保对领域需求的准确理解。

2. **考虑具体因素的信息逻辑模型表示**  
   - **定义**：这是信息逻辑模型向具体实现迈出的第一步。虽然仍然以信息逻辑模型为基础，但开始考虑所使用的数据模型（如关系模型、面向对象模型等）以及数据库管理系统（DBMS）的技术限制。
   - **特点**：
     - 开始引入与DBMS相关的细节，例如字段的数据类型、长度、约束等。
     - 这一步是为了将信息逻辑模型转化为可以在特定数据库系统中实现的设计。
   - **用途**：为后续设计数据逻辑模型做准备。

3. **数据逻辑模型（Даталогическая модель）**  
   - **定义**：数据逻辑模型是在特定数据库管理系统中实现的具体数据结构。它是信息逻辑模型的具体化和技术实现。
   - **特点**：
     - 直接与数据库的物理存储相关，包含详细的表结构、字段、数据类型、索引、主键、外键等。
     - 关注“**数据如何存储和管理**”，而不仅仅是“数据是什么”。
     - 它是开发人员和数据库管理员用来实现数据库的蓝图。
   - **用途**：用于指导数据库的实际开发和实现。

---

### 区别总结：

| 特性                     | 信息逻辑模型                          | 考虑具体因素的信息逻辑模型表示          | 数据逻辑模型                          |
|--------------------------|---------------------------------------|-----------------------------------------|---------------------------------------|
| **抽象层次**             | 高                                    | 中                                      | 低                                    |
| **是否依赖物理存储**     | 否                                    | 开始涉及                               | 是                                    |
| **描述内容**             | 实体、属性、关系                      | 引入数据类型、约束等技术细节            | 表、字段、索引、约束等详细实现        |
| **目标**                 | 捕捉业务需求，与用户沟通              | 为技术实现做准备                        | 在DBMS中实现具体的数据结构            |
| **工具/方法**            | ER图等                                | 数据模型选择 + 技术细节                 | 数据库设计工具（如SQL脚本、建模工具） |

简单来说：
- **信息逻辑模型**是业务层面的抽象设计，关注“**数据是什么**”。
- **考虑具体因素的信息逻辑模型表示**是过渡阶段，开始结合技术和DBMS特性。
- **数据逻辑模型**是技术层面的具体实现，关注“**数据如何存储和管理**”。  

### Перевод:

#### Инфологическая модель:
- Обобщенное представление предметной области;
- Собирается на основе анализа пользовательских представлений;
- Не зависит от «физического» хранилища;
- Есть стандартные средства для описания (например, ER-диаграмма).

#### Представление инфологической модели с учетом:
- Используемой модели данных;
- Могут появляться детали, относящиеся к СУБД (типы данных).

#### Даталогическая модель:
- Это конкретные структуры данных и способы хранения в определенной системе управления базами данных (СУБД);
- Напрямую связана с физическим хранением данных в базе;
- Включает подробную информацию о таблицах, полях, типах данных, индексах, ограничениях и т.д.

---

### Различия:

1. **Инфологическая модель**  
   - **Определение**: Инфологическая модель представляет собой высокоуровневую абстракцию реального мира, сосредоточенную на описании бизнес-потребностей и ключевых концепций. Она не зависит от каких-либо конкретных технологий реализации или систем баз данных.
   - **Характеристики**:
     - Строится на основе анализа пользовательских требований и бизнес-правил, независимо от физического хранения.
     - Использует стандартные инструменты (например, ER-диаграммы) для описания сущностей, атрибутов и отношений.
     - Не заботится о том, как данные хранятся или управляются, а только о том, **что представляют собой данные**.
   - **Назначение**: Используется для общения с бизнес-аналитиками и пользователями, чтобы обеспечить точное понимание потребностей предметной области.

2. **Представление инфологической модели с учетом факторов**  
   - **Определение**: Это первый шаг от инфологической модели к конкретной реализации. Хотя она все еще основана на инфологической модели, начинает учитывать используемую модель данных (например, реляционную модель) и технические ограничения СУБД.
   - **Характеристики**:
     - Начинает включать детали, связанные с СУБД, такие как типы данных, длина полей, ограничения и т.д.
     - Этот этап необходим для преобразования инфологической модели в дизайн, который можно реализовать в конкретной системе баз данных.
   - **Назначение**: Подготовка к проектированию даталогической модели.

3. **Даталогическая модель**  
   - **Определение**: Даталогическая модель представляет собой конкретные структуры данных, реализованные в определенной СУБД. Это конкретизация и техническая реализация инфологической модели.
   - **Характеристики**:
     - Напрямую связана с физическим хранением данных, включая подробные структуры таблиц, поля, типы данных, индексы, первичные и внешние ключи и т.д.
     - Фокусируется на том, **как данные хранятся и управляются**, а не только на том, что они собой представляют.
     - Это чертеж, который разработчики и администраторы баз данных используют для реализации базы данных.
   - **Назначение**: Используется для руководства практической разработки и реализации базы данных.

---

### Сводка различий:

| Характеристика            | Инфологическая модель              | Представление инфологической модели с учетом факторов | Даталогическая модель                |
|---------------------------|------------------------------------|-------------------------------------------------------|--------------------------------------|
| **Уровень абстракции**    | Высокий                           | Средний                                               | Низкий                               |
| **Зависимость от хранилища** | Нет                               | Частично                                              | Да                                   |
| **Описание**              | Сущности, атрибуты, отношения      | Типы данных, ограничения и другие технические детали   | Таблицы, поля, индексы, ограничения   |
| **Цель**                  | Понимание бизнес-потребностей      | Подготовка к технической реализации                    | Реализация структур данных в СУБД    |
| **Инструменты/Методы**    | ER-диаграммы                      | Выбор модели данных + технические детали               | Инструменты проектирования БД (SQL, моделирование) |

Проще говоря:
- **Инфологическая модель** — это абстрактный дизайн на уровне бизнеса, сфокусированный на том, **что представляют собой данные**.
- **Представление инфологической модели с учетом факторов** — это переходный этап, начинающий объединять технологии и особенности СУБД.
- **Даталогическая модель** — это конкретная техническая реализация, сфокусированная на том, **как данные хранятся и управляются**.  

---

### 1. 基本概念
SQL（Structured Query Language）是一种声明式编程语言（声明式语言关注的是“要做什么”，而不是“怎么做”。在这些语言中，我们描述期望的结果，而实现细节则被隐藏），用于在关系型数据库中创建、修改和管理数据，由相应的数据库管理系统（DBMS）操作。简而言之，SQL 是一种查询语言，通过它可以操作数据库中的数据。

**DBMS（数据库管理系统）** 是一个程序，允许用户创建、存储、管理和处理数据库中的数据。DBMS 接收命令（通常以 SQL 编写）并执行它们。每个 DBMS（如 PostgreSQL、MySQL、SQL Server、Oracle、SQLite）都有其特定的特性和 SQL 扩展，使其与其他系统区分开来。这些差异被称为 SQL 方言。

**PostgreSQL** 是一个开源的对象关系型数据库管理系统。它不仅支持标准的关系表，还支持更复杂的数据结构（如 JSON、数组、XML），以及高级功能，例如复制、扩展和全文搜索。

**关于大小写敏感性：**
- 在 PostgreSQL 中，未用双引号括起来的名称会被解释为小写。然而，如果名称用双引号括起来（例如 `"Name"`），它会变为大小写敏感。
- 比较以下两个查询：
  ```sql
  SELECT * FROM "Users";
  ```
  和
  ```sql
  SELECT * FROM users;
  ```
  第一个查询中，大写字母 `U` 是重要的，而在第二个查询中，字母大小写无关紧要。如果没有使用引号，查询是不区分大小写的。
- 字符串数据（例如 `TEXT` 或 `VARCHAR` 类型）在比较时区分大小写。
- 关键字（如 `SELECT`、`WHERE`、`INSERT`、`UPDATE` 等）**不区分大小写**。
- 特殊类型 `citext` 允许在比较时不区分大小写存储文本，例如：
  ```sql
  name CITEXT UNIQUE;
  ```

---

### 2. ANSI-SPARC 架构
**ANSI/SPARC 的三层架构** 包括外部层、概念层和内部层。三层架构的目标是将用户对数据库的视图与数据库的物理表示分离，这基于以下几个原因：
- 每个用户应能够访问相同的数据，并使用自己的视图，同时更改自己的视图而不影响其他用户；
- 用户不应了解数据库中数据的物理存储细节；
- 数据库管理员（DBA）应能够在不影响用户视图的情况下更改数据的存储结构；
- 数据库管理员应能够在不影响所有用户的情况下更改数据库的概念或全局结构。

**外部层**：这是从用户角度看到的数据库视图。这一层描述了数据库中与每个用户相关的部分。

**概念层**：这是数据库的综合视图。这一层描述了数据库中存储了哪些数据以及它们之间的关系。实际上，这是组织对数据需求的完整描述，与数据的存储方式无关。在概念层上包含以下组件：
- 所有实体、属性及其关系；
- 对数据施加的约束；
- 关于安全性和数据完整性支持的信息。

在概念层上，实体的描述应包括属性的数据类型和长度信息，但不应包括数据存储的具体细节（例如占用的字节数）。

**内部层**：这是数据库在计算机中的物理表示。这一层描述了信息如何存储在数据库中。内部层描述了数据库的物理实现，旨在实现最佳性能并确保磁盘空间的高效使用。它包含有关数据结构和单个文件组织的描述，这些文件用于在存储设备中保存数据。

---
- **实体**：是一类对象、事实、现象或事物的集合，其元素将存储在数据库中。
- **属性**：是实体的重要特征（性质），并为其赋予名称。
- **关系**：是两个或多个实体之间的关联，表示它们之间的交互形式。

关于关系的类型，常见的有以下几种：
- **1:1（一对一）**
- **1:M（一对多）**
- **M:M（多对多）**（需要引入额外的实体）
关系可以是可选的（X:Y，其中X可以为零）。

**1:M关系**通过在外表中添加**外键**来实现：外键通常被添加到关联实体或特征实体中。为了建模关系的性质，对外键会引入额外的约束（例如，“一对一”关系需要设置为`UNIQUE`）。

- **核心实体**：独立且基础的实体（如“学生”、“班级”）。
- **关联实体**：表示两个或多个实体之间的“多对多”关系（如“*对多”等）。
- **特征实体**：表示两个实体之间的“多对一”或“一对一”关系（是关联的一种特殊情况）。特征实体的目的是描述或细化另一个实体。

**主键**表示该列用作表中行的唯一标识符。用于实现主键的主要数据结构包括：
- **哈希表**：哈希值用于在内存中定位记录存储的位置，但它们是无序的；
- **B树**：自平衡树结构，支持以对数时间复杂度进行查找。

主键的约束相当于**唯一性约束**和**非空约束**的组合。PostgreSQL允许不为表创建主键（尽管每张表通常建议有一个主键）。

每列都有其数据类型：数据类型限制了该列可能存储的值的范围，并定义了存储在该列中的数据的“意义”，以便数据可以用于计算。

---

### PostgreSQL 数据类型
- `smallint`：整数（2字节）；
- `integer`：整数（4字节）；
- `bigint`：整数（8字节）；
- `varchar(n)`：变长字符串，带长度限制；
- `char(n)`：定长字符串，剩余部分用空格填充；
- `text`：变长字符串，无长度限制；
- 布尔状态：`true`、`false`（第三种状态“未知”通过SQL的`NULL`值表示）；
  - `true`可以用以下值表示：`TRUE`、`'true'`、`'t'`、`'yes'`、`'y'`、`'on'`、`'1'`；
  - `false`可以用以下值表示：`FALSE`、`'false'`、`'f'`、`'no'`、`'n'`、`'off'`、`'0'`；
- `timestamp`：日期和时间；
- `date`：日期；
- `interval`：时间间隔；
- `NULL`：特殊值（空值或不存在的值），可以存储在数据库表的字段中。`NULL`值彼此不相等；包含`NULL`值的列在聚合计算（如最小值、最大值等）时会被忽略，在`DISTINCT`、`ORDER BY`、`GROUP BY`中，`NULL`值被视为相同。

如果列不允许包含`NULL`值，则可以通过`type NOT NULL`指定（主键会自动检查`NULL`）。

---

### 特殊类型和约束
- **SERIAL**：PostgreSQL中的特殊数据类型，用于自动创建一个自增字段（计数器），用于标识符。
- **CHECK**操作符：允许为特定列指定一个表达式，用于验证插入到该列中的值。表达式必须返回布尔值。如果`CHECK`表达式返回`true`或`NULL`，则检查通过。如果`CHECK`条件不满足，PostgreSQL将抛出错误，操作将被拒绝。

```sql
CREATE TABLE STUDENTS (
    ST_ID integer,
    ST_NAME text,
    FAILED_COURSES integer CONSTRAINT fcrs CHECK (FAILED_COURSES >= 0)
);
```

- **CONSTRAINT**：是对列或表施加的约束（规则），用于确保数据完整性。如果为约束命名，可以方便地对其进行修改或删除：

```sql
ALTER TABLE STUDENTS DROP CONSTRAINT fcrs;
```

如果没有指定名称，PostgreSQL会为约束生成一个随机名称（`ALTER`用于修改现有实体的结构）。

- **UNIQUE**：是一种约束，确保指定列或列组合中的值是唯一的。
  - `UNIQUE`不允许单列或多列组合中的值重复；
  - 在PostgreSQL中，多个`NULL`被视为不同的值。
  - 如果`UNIQUE`值重复，PostgreSQL将抛出错误，操作将被拒绝。

```sql
CREATE TABLE enrollments (
    student_id integer,
    course_id integer UNIQUE,
    UNIQUE (student_id, course_id)
);
```

---

### 默认值
在PostgreSQL中，默认情况下，列没有`DEFAULT`值，除非显式指定。这意味着在插入（`INSERT`）时，如果没有指定值，列将接受`NULL`。

可以为列指定默认值（`DEFAULT`），以便在插入时未传递值时自动使用默认值。`DEFAULT`也可以通过`ALTER TABLE`进行修改或删除。

```sql
CREATE TABLE students (
    id serial PRIMARY KEY,
    name text NOT NULL,
    age integer DEFAULT 18
);
```

如果在插入到`students`表时未指定`age`，将使用默认值`18`。如果列为`NOT NULL`但未指定`DEFAULT`，并且在插入时未传递值，则会导致错误。  

---  

**DDL（数据定义语言）** 是一组用于创建、修改和删除数据库结构（如表、索引、模式、约束等）的SQL命令。DDL命令会自动提交（自动`COMMIT`）。这意味着，如果这些命令已经执行，则无法通过`ROLLBACK`回滚。

**事务** 是一系列原子性的SQL操作。它在发生错误时确保数据的完整性。

事务由以下命令管理：
- `BEGIN;` — 开始事务
- `COMMIT;` — 提交更改
- `ROLLBACK;` — 回滚更改

**主要命令：**
- **CREATE** - 用于创建表、索引（用于搜索）、模式（表的命名空间）。
- **ALTER** - 用于修改对象：
  ```sql
  ALTER TABLE users ADD COLUMN email TEXT UNIQUE;
  ```
  添加一个唯一性约束的`email`列；
  ```sql
  ALTER TABLE users ALTER COLUMN age TYPE BIGINT;
  ```
  将`age`的类型（该属性已有某种类型）更改为`BIGINT`；
  ```sql
  ALTER TABLE users DROP COLUMN age;
  ```
  从表中删除`age`列；
  ```sql
  ALTER TABLE users RENAME TO customers;
  ```
  将表`users`重命名为`customers`（类似地可以用于重命名列）；
  ```sql
  ALTER TABLE users ALTER COLUMN email SET NOT NULL;
  ```
  现在`email`列必须填写；
  ```sql
  ALTER TABLE users ADD PRIMARY KEY (id);
  ```
  为`id`列添加主键。

- **DROP** - 用于删除对象：
  ```sql
  DROP TABLE users;
  ```
  完全删除表`users`；
  ```sql
  DROP SCHEMA sales CASCADE;
  ```
  逻辑上可以理解为级联删除，即删除带有依赖关系的对象（否则会运行时出错）。

- **TRUNCATE** - 用于清空数据：
  ```sql
  TRUNCATE TABLE users;
  ```
  数据将被清空，但表结构保留。

---  

**DML（数据操作语言）** 是SQL命令的一个子集，用于在数据库中操作数据。通过DML，可以插入新数据、更新或删除现有数据，以及提取数据。

**主要命令：**
- **SELECT** - 用于提取数据：
  - `SELECT * FROM Employees` - 将返回表`Employees`中的所有行和所有列；
  - `SELECT first_name, last_name, position FROM Employees`;
  - `SELECT first_name, last_name, age FROM Employees WHERE age > 30`;
  - `SELECT first_name, last_name, age FROM Employees ORDER BY age` - 将返回按年龄升序排列的员工列表（如果在末尾添加`DESC`，则返回倒序排列的结果）。

- **INSERT** - 用于插入数据：
  ```sql
  INSERT INTO Employees (first_name, last_name, age, position)
  VALUES
  ('John', 'Doe', 35, 'Manager'),
  ('Jane', 'Smith', 42, 'Engineer'),
  ('Mark', 'Taylor', 29, 'Developer');
  ```
  ```sql
  INSERT INTO Employees (first_name, last_name, age, position)
  SELECT first_name, last_name, age, position
  FROM TemporaryEmployees
  WHERE age > 30;
  ```
  这个查询将从`TemporaryEmployees`表中选择符合条件的数据（如年龄大于30岁）并插入到`Employees`表中。

- **UPDATE** - 用于更新数据：
  ```sql
  UPDATE Employees
  SET position = 'Senior' || position
  WHERE age > 40;
  ```
  这个查询将在年龄大于40岁的员工职位前加上“Senior”前缀。（`SET`用于在更新行时为列指定新值；`||`表示字符串连接）。
  ```sql
  UPDATE Employees
  SET position = 'Intern';
  ```
  这个查询将把`Employees`表中所有员工的职位更新为“Intern”。

- **DELETE** - 用于删除数据：
  ```sql
  DELETE FROM Employees
  WHERE first_name = 'Alice' AND last_name = 'Johnson';
  ```
  这个查询将删除名字为“Alice Johnson”的员工记录。
  ```sql
  DELETE FROM Employees;
  ```
  删除`Employees`表中的所有数据，但保留表结构（类似于`TRUNCATE`）。